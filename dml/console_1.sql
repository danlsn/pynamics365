-- Use test schema in MIPCRM_Sandbox
USE MIPCRM_Sandbox;
GO

SELECT *
FROM test.load_google_validated_addresses;

ALTER TABLE test.load_google_validated_addresses
    ADD CONSTRAINT [Address Lines Should be JSON] CHECK (ISJSON(address_lines) = 1);

ALTER TABLE test.load_google_validated_addresses
    ADD CONSTRAINT [Validated Address Should be JSON] CHECK (ISJSON(validated_address) = 1);

INSERT INTO test.load_google_validated_addresses
VALUES ('8c13eb49-2724-43f1-97b2-5db4a0c4778f', 'contact', '653e0c3f-3075-ea11-a811-000d3a854101',         '9373379d-417c-e411-a784-9cb654944fd8', '[       "Level 3",       "76 Kings Park Rd",       "WEST PERTH WA 6005",       "AUSTRALIA"     ]', '{       "result": {         "verdict": {           "inputGranularity": "SUB_PREMISE",           "validationGranularity": "SUB_PREMISE",           "geocodeGranularity": "SUB_PREMISE",           "addressComplete": true,           "hasUnconfirmedComponents": true         },         "address": {           "formattedAddress": "Level 3/76 Kings Park Road, West Perth WA 6005, Australia",           "postalAddress": {             "regionCode": "AU",             "languageCode": "en",             "postalCode": "6005",             "administrativeArea": "WA",             "locality": "West Perth",             "addressLines": [               "Level 3/76 Kings Park Rd"             ]           },           "addressComponents": [             {               "componentName": {                 "text": "Level 3",                 "languageCode": "en"               },               "componentType": "subpremise",               "confirmationLevel": "UNCONFIRMED_BUT_PLAUSIBLE"             },             {               "componentName": {                 "text": "76",                 "languageCode": "en"               },               "componentType": "street_number",               "confirmationLevel": "CONFIRMED"             },             {               "componentName": {                 "text": "Kings Park Road",                 "languageCode": "en"               },               "componentType": "route",               "confirmationLevel": "CONFIRMED"             },             {               "componentName": {                 "text": "West Perth",                 "languageCode": "en"               },               "componentType": "locality",               "confirmationLevel": "CONFIRMED"             },             {               "componentName": {                 "text": "WA",                 "languageCode": "en"               },               "componentType": "administrative_area_level_1",               "confirmationLevel": "CONFIRMED"             },             {               "componentName": {                 "text": "6005"               },               "componentType": "postal_code",               "confirmationLevel": "CONFIRMED"             },             {               "componentName": {                 "text": "Australia",                 "languageCode": "en"               },               "componentType": "country",               "confirmationLevel": "CONFIRMED"             }           ],           "unconfirmedComponentTypes": [             "subpremise"           ]         },         "geocode": {           "location": {             "latitude": -31.950405,             "longitude": 115.834316           },           "plusCode": {             "globalCode": "4PWQ2RXM+RP"           },           "bounds": {             "low": {               "latitude": -31.950405,               "longitude": 115.834316             },             "high": {               "latitude": -31.950405,               "longitude": 115.834316             }           },           "placeId": "ChIJf9TIqjylMioRaISPnxyhubk",           "placeTypes": [             "subpremise"           ]         }       },       "responseId": "cdbb06a3-d6d9-4f21-b932-4cd87232d0cb"     }');

TRUNCATE TABLE test.load_google_validated_addresses;
